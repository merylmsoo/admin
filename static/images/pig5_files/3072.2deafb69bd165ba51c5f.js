"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[3072],{53072:(e,t,s)=>{s.d(t,{J:()=>Y});var r=s(65723),i=s(63316),a=s(12505),n=s(85540),o=s(77187),l=s(4055),F=s(77956),c=s(21239),d=s(10524),f=s(95780),h=s(78296),p=s(59800),u=s(39914),b=s(59331),j=s(33428),g=s(47286),m=s(27614);let S=({notifier$:e,footerRefOption$:t})=>s=>{let r=(0,n.Fs)(s,m.Tj(([,,e])=>e),m.F()),i=(0,n.Fs)(s,m.Tj(([,,,e])=>e??2e3),m.F()),a=(0,n.Fs)(s,m.Tj(([,e])=>e.page),m.F()),o=(0,n.Fs)(m.zV([t,r,i,a]),m.nx(([e,t,s])=>(0,n.Fs)(e,c.YW((0,u.dY)(m.wg),e=>(0,n.Fs)(d.sH(e,{root:void 0!==t?t.current:null,rootMargin:d.x({top:f.Sj,right:f.Sj,bottom:f.qy(s),left:f.Sj})}),m.pb(d.uV)))))),l=(0,n.Fs)(s,m.Tj(([e])=>e),m.F());return m.h1((0,n.Fs)(m.zV([o,l]),m.pb(([e,t])=>!1===t)),e)},x=e=>t=>{let s=(0,n.Fs)(t,m.XM(e),m.dM(([,e])=>e.page),m.Or(([e])=>!1===e));return(0,n.Fs)(s,m.EY(t,(e,t)=>t),m.ZZ(([,e,t,s])=>(0,n.Fs)(t(e),g.Bb(s),j.L5(3))))},O=e=>{let t=(0,p.h6)(),s=(0,b.J)(S({notifier$:e.notifier$,footerRefOption$:e.footerRefOption$}),[e.disableInfiniteScroll,e.feedDataFetcherParams,e.intersectionObserverRoot,e.intersectionObserverRootMarginBottom]),r=(0,b.J)(x(s),[e.hasFetchedAllPages,e.feedDataFetcherParams,e.feedDataFetcher,t]);(0,h.so)(r)},P=({total:e,perPage:t})=>Math.ceil(e/t),M=e=>e.lastPageFetched>=P(e),T=({lastPageFetched:e,perPage:t})=>({page:e+1,perPage:t}),V=({feedState:e,feedItems:t,renderItems:s,renderLoadingFooter:o,disableInfiniteScroll:c,...d})=>{let[f,h]=(0,i.z)(e=>(0,n.Fs)(e,F.rT)),p=a.Krr(()=>T(e),[e]),u=a.Krr(()=>M(e),[e]);return O({...d,disableInfiniteScroll:c,feedDataFetcherParams:p,hasFetchedAllPages:u,footerRefOption$:h}),(0,r.jsxs)(a.iau,{children:[s({items:t,total:e.total}),(0,r.jsx)(a.iau,{"data-testid":l.n,ref:f}),!1===u&&!1===c&&(e.isLoading??!0)&&o()]})},Y=({feedStateOption:e,feedItemsOption:t,renderEmpty:s,renderPlaceholder:i,renderFooter:l,disableInfiniteScroll:F,...d})=>(0,n.Fs)(c.CO(e,t),c.YW(i,([e,t])=>{let i=M(e),c=i||F||o.VP(t);return(0,r.jsxs)(a.Ut5,{children:[(0,n.Fs)(t,o.YW({onEmpty:s,onNonEmpty:t=>(0,r.jsx)(V,{...d,feedState:e,feedItems:t,disableInfiniteScroll:F})})),c&&l({isEmpty:o.VP(t),hasFetchedAllPages:i,isInfiniteScrollDisabled:F})]})}))}}]);