"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[4017],{11246:(e,a,d)=>{d.d(a,{GL:()=>Y,Gk:()=>A,L1:()=>L,Xg:()=>_,q4:()=>b});var r=d(35914),s=d(12805),t=d(49941),n=d(32833),o=d(13931),c=d(39914),l=d(77187),i=d(85540),h=d(1635),p=d(66659),m=d(27428),F=d(33907),T=d(62952),k=d(2712),I=d(17330),j=d(92127),u=d(21239),v=d(73036),S=d(87673),q=d(7457),E=d(99840),f=d(8780);let U=o.Z.matchX({HomepageHeader:"homepage-header",SayThanksCardMobile:"say-thanks-card-mobile",SayThanksCardTabletUp:"say-thanks-card-desktop",TopicsInFeed:"topics-in-feed",ExploreInFeed:"explore-in-feed",SearchInFeed:"search-in-feed"}),b=e=>{switch(e){case"development":return o.Z.matchX({HomepageHeader:(0,c.dY)(307171),SayThanksCardMobile:(0,c.dY)(237077),SayThanksCardTabletUp:(0,c.dY)(237076),TopicsInFeed:n.Uq({Phone:257457,[f._]:237186}),ExploreInFeed:n.Uq({Phone:257456,[f._]:247889}),SearchInFeed:n.Uq({Phone:257455,[f._]:241347})});case"production":return o.Z.matchX({HomepageHeader:(0,c.dY)(307172),SayThanksCardMobile:(0,c.dY)(219423),SayThanksCardTabletUp:(0,c.dY)(219424),TopicsInFeed:n.Uq({Phone:257453,[f._]:237209}),ExploreInFeed:n.Uq({Phone:257454,[f._]:247890}),SearchInFeed:n.Uq({Phone:257452,[f._]:241348})})}},y=({adEnv:e,adType:a,count:d,zoneId:r})=>({divName:U(a),zoneIds:l.of(r),count:d,networkId:(0,s.Pq)(e),siteId:(0,s.gE)(e),adTypes:l.of(5),properties:{}}),C=e=>v.D9(a=>(0,i.Fs)(I.of(t.Um),I.ap((0,i.Fs)(e,y,l.of,I.of)),I.ap((0,r.b)(a.shouldUseSecureCookies)),v.L9)),Y=({adEnv:e,adType:a,count:d,zoneId:r})=>(0,i.Fs)(C({adEnv:e,adType:a,count:d,zoneId:r}),S.lr,S.bK(e=>S.QP(t.YK)(s.H6,{method:"POST",headers:{[k.U2]:T.cM.Json},body:t.n_.encode(e)})),q.KR,q.mr,q.Tj(e=>(0,i.Fs)(e.decisions,h.Jt(U(a)),p.qI(p.k$),p.Tj(l.Tj(e=>o.Ad.fromKevelAd({ad:l.v4(e.contents),decision:e})))))),g=e=>l.qI(a=>(0,i.Fs)(a,l.gR(e),m.YW({onTrue:()=>(0,i.Fs)(a,F.ku(a=>t.X6.equals(a,e))),onFalse:(0,c.dY)([])}))),_=(e,a)=>(0,i.L3)(l.pb((0,i.L3)(e=>g(e.metadata.advertiserId)(a),l.YW({onEmpty:c.ue,onNonEmpty:(0,i.L3)(l.zN(a=>(0,i.Fs)(e,j.Dc(t.X6)(a))),m.AU)}))),p.VW(l.EI)),A=E.Tj(u.qI(e=>(0,i.Fs)(e.template,t.Bj.match({"in-feed":a=>u.zN(o.Ad.mkInFeedAd({...e,template:a})),[f._]:(0,c.dY)(u.dv)})))),X=t.Bj.matchX({"kitchen-sink":!0,[f._]:!1}),x=t.Bj.matchX({"in-feed":!0,[f._]:!1}),L=o.Z.matchX({SayThanksCardMobile:X,SayThanksCardTabletUp:X,TopicsInFeed:x,HomepageHeader:(0,c.dY)(!0),ExploreInFeed:x,SearchInFeed:x})},48888:(e,a,d)=>{d.d(a,{mc:()=>K,$9:()=>Z,no:()=>P});var r=d(65723),s=d(86814),t=d(67518),n=d(99661),o=d(77759),c=d(45448),l=d(5797),i=d(53128),h=d(49941),p=d(90811),m=d(58500);let F=(0,d(66383).Mz)(e=>e.directAds,e=>e.renderedAdsByAdvertiser);var T=d(32833),k=d(13931),I=d(73131),j=d(12505),u=d(85540),v=d(77187),S=d(83492),q=d(39914),E=d(33907),f=d(66659),U=d(59331),b=d(38437),y=d(77956),C=d(21239),Y=d(47286),g=d(73036),_=d(87673),A=d(99840),X=d(5540),x=d(27614),L=d(11246);let H=e=>{switch(e){case"development":return[[h.SS(2260292),h.SS(2260293)]];case"production":return[[h.SS(2262847),h.SS(1890533)]]}},w=b.z3(e=>["InvalidTemplatesError",{invalidAds:(0,u.Fs)(e,v.Tj(e=>({invalidTemplate:h.gY(e.template),flightId:e.metadata.flightId,creativeId:e.metadata.creativeId})))}]),P=({adType:e,count:a})=>{let d=(0,i.d)(F),r=(0,U.J)(e=>(0,u.Fs)(e,x.Tj(([e])=>e)),[d]),s=(0,p.r)(),t=(0,m.Y0)();return(0,U.J)(e=>{let d=(0,u.Fs)(e,x.Tj(e=>e[0]),x.F(k.Z.Eq.equals)),t=(0,u.Fs)(e,x.Tj(e=>e[1]),x.F(C.nZ(T.Eq).equals)),n=(0,u.Fs)(y.CO((0,u.Fs)(d,y.K_),t),y.Tj(([e,a])=>(0,L.q4)(s.adEnv)(e)(a)),x.F(C.nZ(X.Eq).equals));return(0,u.Fs)(y.CO((0,u.Fs)(d,y.K_),n),x.EY(r),x.Tj(([e,a])=>(0,u.Fs)(e,C.Tj(([e,d])=>S.L8(e,d,a)))),y.HZ(([e,d,r])=>(0,u.Fs)(x.v6(()=>(0,u.Fs)((0,L.GL)({adEnv:s.adEnv,adType:e,count:3*a,zoneId:d}),Y.Bb(s))),x.Mi((0,u.L3)(A.v6((0,q.dY)(g.IX),I.V0(_.aM),a=>(0,u.Fs)(a,C.qI((0,u.L3)(E.ku(a=>(0,u.Fs)(a.template,(0,L.L1)(e))),f.VW(v.EI),C.Tj(I.V0(w)))),C.ak(()=>g.IX))),I.Fe("KevelError"),I.eQ({directAdType:k.Z.Show.show(e)}),g.Gt(I.Sn),g.g7)),x.Tj(A.Tj(C.qI((0,L.Xg)(r,H(s.adEnv))))))),x.Tj(C.ak(()=>A.Vh)))},[e,t])},Z=({adType:e,count:a,children:d})=>d((0,l.m)(P({adType:e,count:a}))),M=({metadata:e})=>(0,r.jsxs)(j.Ut5,{children:[(0,r.jsx)(n.j,{url:e.impressionUrl}),(0,u.Fs)(e.impressionTrackers,C.f3(v.Tj((e,a)=>(0,r.jsx)(n.j,{url:e},a))))]}),K=({children:e,metadata:a,adType:d})=>{let n=(0,o.w)();return(0,c.J)(()=>{n(s.rc.mk.DirectAdImpression({metadata:a,adType:d}))}),(0,r.jsxs)(j.Ut5,{children:[e,(0,r.jsx)(t.A,{children:(0,r.jsx)(M,{metadata:a})})]})}},80551:(e,a,d)=>{d.d(a,{X:()=>l});var r=d(65723),s=d(86814),t=d(87632),n=d(77759),o=d(12505),c=d(90298);let l=({metadata:e,adType:a,...d})=>{let l=(0,n.w)(),i=o.hbB(()=>{l(s.rc.mk.Track(c.Jh.mk.DirectAdClick({metadata:e,adType:a})))},[e,a]);return(0,r.jsx)(t.p,{onClick:i,href:e.clickUrl,...d})}},5797:(e,a,d)=>{d.d(a,{m:()=>t});var r=d(23819),s=d(99840);let t=e=>(0,r.C)(e,s.Vh)},35790:(e,a,d)=>{d.d(a,{v:()=>l});var r=d(21105),s=d(29435),t=d(85540),n=d(17330),o=d(21239);let c=(0,t.Fs)(s.ue,n.g7,o.t2(e=>"force_direct_ads"in e)),l=()=>(0,r.cC)()&&c}}]);